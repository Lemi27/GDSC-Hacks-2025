<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <title>View Profile</title>
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.3.0/css/all.css" crossorigin="anonymous" />
  <link href="https://fonts.googleapis.com/css?family=Saira+Extra+Condensed:500,700" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css?family=Muli:400,400i,800,800i" rel="stylesheet" />
  <link href="css/view-profile-styles.css" rel="stylesheet" />
  <link href="css/home-styles.css" rel="stylesheet" />
</head>
<body id="page-top">
  <!-- Responsive navbar-->
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container px-5">
      <a class="navbar-brand" href="home.html">Campus Connect</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" 
        aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
          <li class="nav-item"><a class="nav-link" href="home.html">Home</a></li>
          <li class="nav-item"><a class="nav-link" href="edit-profile.html">Edit Profile</a></li>
          <li class="nav-item"><a class="nav-link" href="matches.html">Matches</a></li>
          <li class="nav-item"><a class="nav-link" href="logout.html">Logout</a></li>
        </ul>
      </div>
    </div>
  </nav>
  <!-- Navigation-->
  <nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top" id="sideNav">
    <a class="navbar-brand js-scroll-trigger" href="#page-top">
      <span class="d-block d-lg-none">Campus Connect</span>
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" 
      aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav">
        <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#about">About</a></li>
        <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#education">Education</a></li>
        <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#lifestyle">Lifestyle</a></li>
        <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#interests">Interests</a></li>
      </ul>
    </div>
  </nav>

  <!-- Page Content -->
  <div class="container-fluid p-0">
    <section class="resume-section" id="about">
      <div class="resume-section-content">
        <h1 class="mb-0">
          <span id="firstName"></span>
          <span class="text-primary" id="lastName"></span>
        </h1>
        <div class="subheading mb-3">
          <span id="gender"></span> · <span id="location"></span> · <span id="phoneNumber"></span> ·
          <a id="emailLink" href="#"><span id="email"></span></a>
        </div>
        <p id="description" class="lead mb-5"></p>
        <div class="social-icons">
          <a class="social-icon" id="linkedinLink" href="#"><i class="fab fa-linkedin-in"></i></a>
          <a class="social-icon" id="instagramLink" href="#"><i class="fab fa-instagram"></i></a>
        </div>
      </div>
    </section>
    <hr class="m-0" />
    <section class="resume-section" id="education">
      <div class="resume-section-content">
        <h2>Education</h2>
        <p><strong>School:</strong> <span id="schoolName"></span></p>
        <p><strong>Program:</strong> <span id="programName"></span></p>
        <p><strong>Graduation:</strong> <span id="gradDate"></span></p>
      </div>
    </section>
    <hr class="m-0" />
    <section class="resume-section" id="lifestyle">
      <div class="resume-section-content">
        <h2>Lifestyle</h2>
        <p><strong>Neatness:</strong> <span id="neatness"></span></p>
        <p><strong>Noise Level:</strong> <span id="noiseLevel"></span></p>
        <p><strong>Budget:</strong> $<span id="budget"></span></p>
      </div>
    </section>
    <hr class="m-0" />
    <section class="resume-section" id="interests">
      <div class="resume-section-content">
        <h2>Interests</h2>
        <p><strong>Sports:</strong> <span id="favouriteSports"></span></p>
        <p><strong>Hobbies:</strong> <span id="hobbies"></span></p>
        <p><strong>TV Shows:</strong> <span id="favouriteTvShows"></span></p>
        <p><strong>Movies:</strong> <span id="favouriteMovies"></span></p>
        <p><strong>Books:</strong> <span id="favouriteBooks"></span></p>
        <p><strong>Food:</strong> <span id="favouriteFood"></span></p>
      </div>
    </section>
  </div>

  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  <script>
    $(document).ready(function () {
      $.get("/api/profile", function (data) {
        if (data.profile) {
          const p = data.profile;
          $("#firstName").text(p.firstName);
          $("#lastName").text(p.lastName);
          $("#phoneNumber").text(p.phoneNumber);
          $("#email").text(p.email);
          $("#emailLink").attr("href", "mailto:" + p.email);
          $("#gender").text(p.gender);
          $("#location").text(p.location);
          $("#description").text(p.description);
          $("#linkedinLink").attr("href", p.socialMedia.linkedin);
          $("#instagramLink").attr("href", p.socialMedia.instagram);
          $("#schoolName").text(p.education.schoolName);
          $("#programName").text(p.education.programName);
          $("#gradDate").text(p.education.date);
          $("#neatness").text(p.lifestyle.neatness);
          $("#noiseLevel").text(p.lifestyle.noiseLevel);
          $("#budget").text(p.lifestyle.budget);
          $("#favouriteSports").text(p.interests.favouriteSports);
          $("#hobbies").text(p.interests.hobbies);
          $("#favouriteTvShows").text(p.interests.favouriteTvShows);
          $("#favouriteMovies").text(p.interests.favouriteMovies);
          $("#favouriteBooks").text(p.interests.favouriteBooks);
          $("#favouriteFood").text(p.interests.favouriteFood);
        }
      });
    });
  </script>
</body>
</html>
